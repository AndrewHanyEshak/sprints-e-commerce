<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="../assets/styles/all.min.css" />
        <link rel="stylesheet" href="../assets/styles/bootstrap.min.css" />
        <link rel="stylesheet" href="../assets/styles/bootstrap.css" />
        <link rel="stylesheet" href="../assets/styles/normalize.css" />
        <link rel="stylesheet" href="../assets/styles/main.css" />
        <link rel="stylesheet" href="../assets/styles/responsive.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
        <title>Titans Store | Product</title>
    </head>
    <body>
        <header>

            <style>
                .product-title { font-size: 24px; }
                .product-price { font-size: 20px; color: #f00; }
                .color-box { width: 30px; height: 30px; margin-right: 5px; }
                .size-options button { margin: 2px; }
                .btn-block { width: 100%; }
            </style>
            <nav>
                <span class="burger-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </span>
                <ul class="nav-list">
                    <li class="nav-item">
                        <a href="../#Home">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="../#Collections">Collections</a>
                    </li>
                    <li class="nav-item"><a href="../#New">New</a></li>
                </ul>
            </nav>
            <div class="header-logo">
                <img src="/assets/images/logo.png" alt="Logo" />
            </div>
            <div class="header-btns">
                <span id="toggle-theme" class="toggle-theme"> </span>
                <a href="./cart/">
                    <span class="cart">
                        <span class="cart-text">Cart</span>
                        <span class="cart-icon"
                            ><img
                                src="/assets/images/cart-icon.png"
                                alt="Cart"
                            />
                            <span class="cart-count" id="cart-count"
                                >5</span
                            ></span
                        >
                    </span>
                </a>
                <span class="profile"
                    ><img src="/assets/images/profile-icon.png" alt="Profile"
                /></span>
            </div>
        </header>
        <body>
            <div id="productDetails" class="container">
            </div>
        
            <script>
                const urlParams = new URLSearchParams(window.location.search);
                const productId = urlParams.get('id');
                const productDetails = document.getElementById("productDetails");
        
                const url = `https://apidojo-hm-hennes-mauritz-v1.p.rapidapi.com/products/detail?lang=en&country=us&productcode=${productId}`;
                const options = {
                    method: 'GET',
                    headers: {
                        'x-rapidapi-key': '36203c0954msh58a9775e198481dp1be859jsnece5e3a9d7c1',
                        'x-rapidapi-host': 'apidojo-hm-hennes-mauritz-v1.p.rapidapi.com'
                    }
                };
        
                const displayData = async () => {
                    try {
                        const response = await fetch(url, options);
                        const data = await response.json();
                        const product = data.product.articlesList[0]; 
        
                        if (!product) {
                            productDetails.innerHTML = '<p>Product not found.</p>';
                            return;
                        }
        
                        const color = product.color || {};
                        const price = product.redPrice ? product.redPrice.price : product.price;
                        const currency = product.redPrice ? product.redPrice.currency : 'USD';
                        const productUrl = product.productUrl || '#';
                       
                        
        
                        productDetails.innerHTML = `
                            <div class="row">
                                <div class="col-md-6">
                                    <img
                                        src="${product.productUrl}"
                                        class="img-fluid main-image"
                                        // alt="${product.name}"
                                    />
                                </div>
                                <div class="col-md-6">
                                    <h1 class="product-title">${product.name}</h1>
                                    <p class="product-price">${currency} ${price.toFixed(2)}</p>
                                    <p class="text-muted">MRP incl. of all taxes</p>
                                    <p>${product.description}</p>
                                    <h5>Color</h5>
                                    <div class="color-options d-flex mb-3">
                                        <div class="color-box" style="background-color: ${color.rgbColor}"></div>
                                    </div>
                                    <h5>Size</h5>
                                    <div class="size-options mb-3">
                                        <!-- Example sizes; adjust based on available sizes if needed -->
                                        <button class="btn btn-outline-secondary">XS</button>
                                        <button class="btn btn-outline-secondary">S</button>
                                        <button class="btn btn-outline-secondary">M</button>
                                        <button class="btn btn-outline-secondary">L</button>
                                        <button class="btn btn-outline-secondary">XL</button>
                                        <button class="btn btn-outline-secondary">2X</button>
                                    </div>
                                    <div class="extra-options mb-3">
                                        <a href="#" class="text-decoration-none">FIND YOUR SIZE</a> |
                                        <a href="#" class="text-decoration-none">MEASUREMENT GUIDE</a>
                                    </div>
                                    <button class="btn btn-dark btn-block">ADD</button>
                                </div>
                            </div>
                        `;
                    } catch (error) {
                        console.error('Error fetching product data:', error);
                        productDetails.innerHTML = '<p>Error loading product details.</p>';
                    }
                };
        
                displayData();
            </script>
        </body>
        </html>
        

    </body>
    <script src="script.js"></script>
    <script src="../assets/scripts/main.js"></script>
</html>
